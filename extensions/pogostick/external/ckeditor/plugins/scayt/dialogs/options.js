/*
Copyright (c) 2003-2009, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

CKEDITOR.dialog.add('scaytcheck',function(a){var b=true,c,d=CKEDITOR.document,e='en',f=['dic_create,dic_restore','dic_rename,dic_delete'],g=function(){var n=this,o=n.data.scayt.getLangList(),p=['dic_create','dic_delete','dic_rename','dic_restore'],q=['mixedCase','mixedWithDigits','allCaps','ignoreDomainNames'],r;for(r in p){var s=p[r];d.getById(s).setHtml('<span class="cke_dialog_ui_button">'+c['button_'+s]+'</span>');}d.getById('dic_info').setHtml(c.dic_info);for(r in q){var t='label_'+q[r],u=d.getById(t);if('undefined'!=typeof u&&'undefined'!=typeof c[t]&&'undefined'!=typeof n.options[q[r]]){u.setHtml(c[t]);var v=u.getParent();v.$.style.display='block';}}var w='<p>'+c.about_throwt_image+'</p>'+'<p>'+c.version+n.data.scayt.version.toString()+'</p>'+'<p>'+c.about_throwt_copy+'</p>';d.getById('scayt_about').setHtml(w);var x=function(G,H){var I=d.createElement('label');I.setAttribute('for','cke_option'+G);I.setHtml(H[G]);if(n.sLang==G)n.chosed_lang=G;var J=d.createElement('div'),K=CKEDITOR.dom.element.createFromHtml('<input id="cke_option'+G+'" type="radio" '+(n.sLang==G?'checked="checked"':'')+' value="'+G+'" name="scayt_lang" />');K.on('click',function(){this.$.checked=true;n.chosed_lang=G;});J.append(K);J.append(I);return{lang:H[G],code:G,radio:J};},y=[];for(r in o.rtl)y[y.length]=x(r,o.ltr);for(r in o.ltr)y[y.length]=x(r,o.ltr);y.sort(function(G,H){return H.lang>G.lang?-1:1;});var z=d.getById('scayt_lcol'),A=d.getById('scayt_rcol');for(r=0;r<y.length;r++){var B=r<y.length/2?z:A;B.append(y[r].radio);}var C={};C.dic_create=function(G,H,I){var J=I[0]+','+I[1],K=c.err_dic_create,L=c.succ_dic_create;scayt.createUserDictionary(H,function(M){l(J);k(I[1]);L=L.replace('%s',M.dname);j(L);},function(M){K=K.replace('%s',M.dname);i(K+'( '+(M.message||'')+')');});};C.dic_rename=function(G,H,I){var J=c.err_dic_rename||'',K=c.succ_dic_rename||'';scayt.renameUserDictionary(H,function(L){K=K.replace('%s',L.dname);m(H);j(K);},function(L){J=J.replace('%s',L.dname);m(H);i(J+'( '+(L.message||'')+' )');});};C.dic_delete=function(G,H,I){var J=I[0]+','+I[1],K=c.err_dic_delete,L=c.succ_dic_delete;scayt.deleteUserDictionary(function(M){L=L.replace('%s',M.dname);l(J);k(I[0]);m('');j(L);},function(M){K=K.replace('%s',M.dname);i(K);});};C.dic_restore=n.dic_restore||(function(G,H,I){var J=I[0]+','+I[1],K=c.err_dic_restore,L=c.succ_dic_restore;scayt.restoreUserDictionary(H,function(M){L=L.replace('%s',M.dname);l(J);k(I[1]);j(L);},function(M){K=K.replace('%s',M.dname);i(K);});});var D=(f[0]+','+f[1]).split(','),E;
for(r=0,E=D.length;r<E;r+=1){var F=d.getById(D[r]);F.on('click',function(){var G=d.getById('dic_name').getValue();if(!G){i(' Dictionary name should not be empty. ');return false;}C[this.getId()].apply(null,[this,G,f]);return true;});}},h=function(){var n=this;for(var o in n.options){var p=d.getById(o);if(p){p.removeAttribute('checked');if(n.options[o]==1)p.setAttribute('checked','checked');if(b)p.on('click',function(){n.options[this.getId()]=this.$.checked?1:0;});}}scayt.getNameUserDictionary(function(q){var r=q.dname;if(r){d.getById('dic_name').setValue(r);k(f[1]);}else k(f[0]);},function(){d.getById('dic_name').setValue('');});j('');};function i(n){d.getById('dic_message').setHtml('<span style="color:red;">'+n+'</span>');};function j(n){d.getById('dic_message').setHtml('<span style="color:blue;">'+n+'</span>');};function k(n){n=new String(n);var o=n.split(',');for(var p=0,q=o.length;p<q;p+=1)d.getById(o[p]).$.style.display='inline';};function l(n){n=new String(n);var o=n.split(',');for(var p=0,q=o.length;p<q;p+=1)d.getById(o[p]).$.style.display='none';};function m(n){d.getById('dic_name').$.value=n;};return{title:a.lang.scayt.title,minWidth:340,minHeight:200,onShow:function(){var n=this;n.data=a.fire('scaytDialog',{});n.options=n.data.scayt_control.option();n.sLang=n.data.scayt_control.sLang;if(!n.data||!n.data.scayt||!n.data.scayt_control){alert('Error loading application service');n.hide();return;}var o=0;if(b)n.data.scayt.getCaption('en',function(p){if(o++>0)return;c=p;g.apply(n);h.apply(n);b=false;});else h.apply(n);n.selectPage(n.data.tab);},onOk:function(){var s=this;var n=s.data.scayt_control,o=n.option(),p=0;for(var q in s.options)if(o[q]!=s.options[q]&&p===0){n.option(s.options);p++;}var r=s.chosed_lang;if(r&&s.data.sLang!=r){n.setLang(r);p++;}if(p>0)n.refresh();},contents:[{id:'options',label:a.lang.scayt.optionsTab,elements:[{type:'html',id:'options',html:'<div class="inner_options">\t<div class="messagebox"></div>\t<div style="display:none;">\t\t<input type="checkbox" value="0" id="allCaps" />\t\t<label for="allCaps" id="label_allCaps"></label>\t</div>\t<div style="display:none;">\t\t<input type="checkbox" value="0" id="ignoreDomainNames" />\t\t<label for="ignoreDomainNames" id="label_ignoreDomainNames"></label>\t</div>\t<div style="display:none;">\t<input type="checkbox" value="0" id="mixedCase" />\t\t<label for="mixedCase" id="label_mixedCase"></label>\t</div>\t<div style="display:none;">\t\t<input type="checkbox" value="0" id="mixedWithDigits" />\t\t<label for="mixedWithDigits" id="label_mixedWithDigits"></label>\t</div></div>'}]},{id:'langs',label:a.lang.scayt.languagesTab,elements:[{type:'html',id:'langs',html:'<div class="inner_langs">\t<div class="messagebox"></div>\t   <div style="float:left;width:47%;margin-left:5px;" id="scayt_lcol" ></div>   <div style="float:left;width:47%;margin-left:15px;" id="scayt_rcol"></div></div>'}]},{id:'dictionaries',label:a.lang.scayt.dictionariesTab,elements:[{type:'html',style:'',id:'dic',html:'<div class="inner_dictionary" style="text-align:left; white-space:normal;">\t<div style="margin:5px auto; width:80%;white-space:normal; overflow:hidden;" id="dic_message"> </div>\t<div style="margin:5px auto; width:80%;white-space:normal;">        <span class="cke_dialog_ui_labeled_label" >Dictionary name</span><br>\t\t<span class="cke_dialog_ui_labeled_content" >\t\t\t<div class="cke_dialog_ui_input_text">\t\t\t\t<input id="dic_name" type="text" class="cke_dialog_ui_input_text"/>\t\t</div></span></div>\t\t<div style="margin:5px auto; width:80%;white-space:normal;">\t\t\t<a style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_create">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_delete">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_rename">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_restore">\t\t\t\t</a>\t\t</div>\t<div style="margin:5px auto; width:95%;white-space:normal;" id="dic_info"></div></div>'}]},{id:'about',label:a.lang.scayt.aboutTab,elements:[{type:'html',id:'about',style:'margin: 10px 40px;',html:'<div id="scayt_about"></div>'}]}]};
});
